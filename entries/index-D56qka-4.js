const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["chunks/ExportImage-CnEOyrN8.js","chunks/vendor-Djejl632.js","assets/css/vendor-C9qAdyv7.css","chunks/useDialogWidth-BycpfSzK.js","chunks/FieldsCustom-DEBCV7HJ.js","chunks/NodeDialog-Cx3sXB1G.js","chunks/LayoutCustom-C2k07AI1.js","assets/css/LayoutCustom-30xkgpOm.css"])))=>i.map(i=>d[i]);
import{G as X,u as le,a as ye,n as ct,b as ut,c as dt,r as k,d as ft,e as Ye,f as Ve,g as pt,h as W,i as xe,l as Re,w as R,E as Fe,j as mt,k as ae,m as Me,t as G,o as gt,p as vt,q as Be,s as ht,v as yt,x as L,y as H,z as C,A as Oe,B as xt,C as c,D as j,F as w,H as O,I as Xe,T as Qe,J as et,K as Y,L as bt,M as Ie,N as $e,O as B,P as Pe,Q as kt,R as Ue,S as St,U as _t,V as me,W as Je,X as Ct,Y as ge,Z as wt,_ as Et,$ as Nt,a0 as Ot,a1 as It,a2 as $t,a3 as Lt,a4 as Dt}from"../chunks/vendor-Djejl632.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();const Vt="modulepreload",Pt=function(e){return"/json-viewer/"+e},je={},ve=function(t,o,r){let n=Promise.resolve();if(o&&o.length>0){const i=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),a=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));n=Promise.all(o.map(s=>{if(s=Pt(s),s in je)return;je[s]=!0;const f=s.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(!!r)for(let S=i.length-1;S>=0;S--){const y=i[S];if(y.href===s&&(!f||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${g}`))return;const l=document.createElement("link");if(l.rel=f?"stylesheet":Vt,f||(l.as="script",l.crossOrigin=""),l.href=s,a&&l.setAttribute("nonce",a),document.head.appendChild(l),f)return new Promise((S,y)=>{l.addEventListener("load",S),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${s}`)))})}))}return n.then(()=>t()).catch(i=>{const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=i,window.dispatchEvent(d),!d.defaultPrevented)throw i})};function Tt(e=12){const t="...",o=X.Util.getTextSize(t,e)[0];return function(r,n){let i=0,d=r;const a=/[\u4E00-\u9FA5]+/;return r.split("").forEach((s,f)=>{i>n-o||(a.test(s)?i+=e:i+=X.Util.getLetterWidth(s,e),i>n-o&&(d=`${r.substring(0,f)}${t}`))}),d}}function zt(e){return Object.entries(e).map(([t,o])=>{const r=typeof o=="string"?`"${o}"`:o;return`${t}: ${r}`})}function At(e){return e.reduce((t,o)=>t.length>o.length?t:o,"")}const we=(()=>{const t=document.createElement("canvas").getContext("2d"),o=new Map;return(r,n="normal 12px Arial")=>{const i=`${n}:${r}`;if(o.has(i))return o.get(i);t.font=n;const d=Math.ceil(t.measureText(r).width);return o.set(i,d),d}})(),Ge=Tt();function Rt(e){const{entries:t,keyName:o=""}=e,r=!!o,n=400,i=18;let d=40,a=i;if(r){const g=we(o)<=n?o:Ge(o,n);return[we(g),a,g]}const f=Object.keys(t).length;if(a=f*i,f>0){const g=zt(t),x=At(g),l=we(x);d=l<=n?l:n;const S=g.map(y=>Ge(y.replace(/\n|\t/g,""),n)).join(`
`);return[d,a,S]}return[d,a,""]}function Te(e=8){return Math.random().toString(36).substring(2,2+e)}function He(e){let t=e.children.find(o=>!o.keyName);return t||(t={id:Te(),entries:{},children:[]},e.children.push(t)),t}function tt(e,t,o,r){typeof t=="object"&&t!==null?Ft(e,t,o,r):Mt(e,t,o,r)}function Ft(e,t,o,r){const n={id:Te(),keyName:e,children:[]};o.children.push(n),ot(t,n,r)}function Mt(e,t,o,r){if(typeof t=="string"&&r.includes(e))try{const n=JSON.parse(t);tt(e,n,o,r)}catch{He(o).entries[e]=t}else He(o).entries[e]=t}function ot(e,t,o){for(const r in e)tt(r,e[r],t,o)}function Bt(e,t=[]){const o={id:Te(),children:[]};return ot(e,o,t),o}function nt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ee(e,t){document.documentElement.style.setProperty(e,t)}const Le=le(),We=ye(Le),Ut=document.startViewTransition&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches;function Ze(e){if(!Ut||!e){We();return}const t=e.clientX,o=e.clientY,r=Math.hypot(Math.max(t,innerWidth-t),Math.max(o,innerHeight-o));document.startViewTransition(async()=>{We(),await ct()}).ready.then(()=>{const i=[`circle(0px at ${t}px ${o}px)`,`circle(${r}px at ${t}px ${o}px)`];document.documentElement.animate({clipPath:Le.value?[...i].reverse():i},{duration:400,easing:"ease-in",pseudoElement:Le.value?"::view-transition-old(root)":"::view-transition-new(root)"})})}const qe=ut(dt);function st(){const e=k(qe.isSmaller("md")),t=Ye(()=>{e.value=qe.isSmaller("md")},300);return ft(document.body,t),e}const ze={orange:"#fb923c",amber:"#fbbf24",yellow:"#facc15",lime:"#a3e635",green:"#00DC82",teal:"#2dd4bf",cyan:"#22d3ee",sky:"#38bdf8",blue:"#60a5fa",indigo:"#818cf8",violet:"#a78bfa",purple:"#c084fc",fuchsia:"#e879f9",pink:"#f472b6",rose:"#fb7185"},se={EN:"en-US",CN:"zh-CN"},Jt={indented:{type:"indented",direction:"H",directions:["LR","RL","H"],indent:240,dropCap:!1},dendrogram:{type:"dendrogram",direction:"LR",directions:["LR","RL","H"],rankSep:240,nodeSep:240},mindmap:{type:"mindmap",direction:"LR",directions:["LR","RL","H"],hgap:100,vgap:100,getHGap:()=>150,getVGap:()=>100},compactBox:{type:"compactBox",direction:"LR",directions:["LR","RL","H"],hgap:150,vgap:100,getHGap:()=>150,getVGap:()=>100}},Q=Ve("global",()=>{const e=pt(),t=k(se.CN),o=k(""),r=k(0),n=le(),i=k(["result"]),d=k(!0);function a(){t.value=e.locale.value=t.value===se.CN?se.EN:se.CN}const s=ye(d),f=st(),[g,x]=ye(!0),l=W(()=>f.value?g.value?[50,50]:[0,100]:g.value?[30,70]:[0,100]),S=k("orange"),y=W(()=>{const h=ze[S.value];return Ee("--el-color-primary",h),Ee("--el-color-primary-light-9",xe(h).alpha(.1).hex()),Ee("--el-color-primary-light-7",xe(h).alpha(.3).hex()),h});return{isDark:n,fields:i,keyword:o,language:t,focusCount:r,colorName:S,themeColor:y,autoRender:d,toggleExecuteMode:s,isExpandEditor:g,toggleEditor:x,paneSize:l,toggleLanguage:a}},{persist:!0}),jt="success",Gt=!1,Ht=100,Wt="Jan 10, 2023 1:13:21 PM",Zt="Jan 10, 2023 1:13:21 PM",qt=["李四","王五","赵六"],Kt={name:"张三",age:18,height:180,address:"江苏苏州姑苏区",contact:{phone:["19988886666","010-88889999"],eamil:["300100999@qq.com","g123456@gamil.com"]}},Yt='{"code": 200, "message": "success"}',Xt={state:jt,error:Gt,total:Ht,createdDate:Wt,finishedDate:Zt,friends:qt,person:Kt,result:Yt},Qt=new URLSearchParams(window.location.search||""),eo="/json-viewer/",ne=new URL(eo,window.location.origin),Ne="code",lt=Ve("code",()=>{const e=JSON.stringify(Xt,null,2),t=k(Re.decompressFromEncodedURIComponent(Qt.get(Ne)||"")||e),o=k(JSON.parse(t.value)),r=k(JSON.stringify(o.value,null,2));R(o,i=>{Object.keys(i).length===0?(ne.searchParams.delete(Ne),window.history.replaceState("","",`${ne.pathname}`),r.value=""):(r.value=JSON.stringify(i,null,2),ne.searchParams.set(Ne,Re.compressToEncodedURIComponent(r.value)),window.history.replaceState("","",`${ne.pathname}${ne.search}`))});const n=k(!0);return R(t,i=>{if(!i){o.value={};return}try{const d=JSON.parse(i);nt(d)?(o.value=d,n.value=!0):(n.value=!1,Fe({type:"error",title:"JSON格式错误",message:"请输入正确的JSON格式",duration:2e3}))}catch(d){n.value=!1,Fe({type:"error",title:"JSON语法错误",dangerouslyUseHTMLString:!0,message:`<pre style="white-space: normal;">${d.message}</pre>`,duration:2e3})}}),{formatCode:r,originCode:t,json:o,jsonValid:n}}),to=Ve("layout",()=>{const e=k("mindmap"),t=mt(Jt),o=W(()=>t[e.value]);return{activeLayout:e,activeConfig:o,layoutList:t}},{persist:!0});function De(e){const t=le(),o=e.getNodes(),r=t.value?"dark":"light";o.forEach(n=>{e.clearItemStates(n,[t.value?"light":"dark","hover"]),e.setItemState(n,r,!0)})}function oo(e,t){const o=a=>{a.stopPropagation();const f=a.target.get("modelId"),g=e==null?void 0:e.findById(f),x=g.getModel();x.collapsed=!x.collapsed,e==null||e.layout(),e==null||e.setItemState(g,"collapse",x.collapsed),De(e)},r=a=>{a.stopPropagation();const s=a.item;e==null||e.setItemState(s,"hover",!s.hasState("hover"))},n=a=>{const s=a.item;t(s)},i=a=>{const s=a.item;e==null||e.setItemState(s,"hover",!0)},d=a=>{const s=a.item;e==null||e.setItemState(s,"hover",!1)};e.on("collapse-text:click",o),e.on("collapse-icon:click",o),e.on("node:mouseover",r),e.on("node:mouseout",r),e.on("edge:mouseover",i),e.on("edge:mouseout",d),e.on("edge:mouseout",a=>{const s=a.item;e==null||e.setItemState(s,"hover",!1)}),e.on("node:click",n),e.on("node:touchend",n)}const no=le(),he=W(()=>no.value?"#fff":"#333");function so(){const{ROOT_NODE:e,RECT_NODE:t}=lo();X.registerNode("root-icon",e,"circle"),X.registerNode("flow-rect",t,"rect")}function lo(){function e(){const{themeColor:a}=Q(),s=["#00DC82","#2dd4bf"].includes(a)?ze.amber:"#33BB69",f={fill:xe(s).alpha(.2).hex(),stroke:s},g=Array.from({length:10}).fill(0).map((y,h)=>xe(a).alpha(h/10).hex());return{focusColorMap:f,clevels:g,rootFill:(y,h)=>h?f.fill:y?g[6]:g[9],rectFill:(y,h)=>h?f.fill:y?g[3]:g[2],stokeColor:(y,h)=>h?f.stroke:y?a:g[8]}}const{clevels:t,rootFill:o,rectFill:r,stokeColor:n}=e();return{ROOT_NODE:{draw(a,s){if(!s)return;s.addShape("circle",{attrs:{x:0,y:0,r:30,visible:!1},name:"root-bg-nodeRect"});const f=s.addShape("text",{name:"root-icon",attrs:{x:0,y:20,fontFamily:"iconfont",textAlign:"center",text:"",fontSize:50,fill:t[8],cursor:"pointer"}});return s.addShape("text",{name:"root-text",attrs:{x:0,y:-4,textAlign:"center",textBaseline:"middle",text:a==null?void 0:a.id,fontSize:14,fill:"#fff",fontWeight:"bold"}}),f},setState(a,s,f){const g=f==null?void 0:f.getContainer(),x=g==null?void 0:g.get("children")[1];if(a==="hover"){const l=f.hasState("focus");x.attr("stroke",n(s,l)),x.attr("fill",o(s,l))}else a==="focus"&&(x.attr("stroke",n(!1,s)),x.attr("fill",o(!1,s)))}},RECT_NODE:{shapeType:"flow-rect",draw(a,s){if(!s)return;const{collapsed:f=!0}=a,[g,x,l]=Rt(a),S={width:g+20,height:x+20,lineWidth:1,fontSize:12,fill:t[2],radius:4,stroke:t[8],opacity:1},y={x:-S.width/2,y:-S.height/2},h=s.addShape("rect",{name:"bg-rect",attrs:{x:y.x,y:y.y,...S}});s.addShape("text",{name:"node-text",attrs:{textAlign:"left",textBaseline:"bottom",x:y.x+8,y:-y.y-12,text:l,fontSize:12,lineHeight:12*1.5,fill:he.value,cursor:"pointer",fontFamily:"Arial"}});const{id:E,children:U=[]}=a;return U.length&&(s.addShape("rect",{name:"collapse-rect",attrs:{x:S.width/2-6,y:-6,width:12,height:12,stroke:t[6],cursor:"pointer",fill:t[1],radius:2,zIndex:10},modelId:E}),s.addShape("text",{name:"collapse-text",attrs:{x:S.width/2,y:-1,textAlign:"center",textBaseline:"middle",text:f?"+":"-",fontSize:16,cursor:"pointer",fill:he.value,opacity:.6},modelId:E})),h},setState(a,s,f){const g=f.getContainer(),x=(h,E)=>h.get("name")===E,l=g.find(h=>x(h,"bg-rect")),S=g.find(h=>x(h,"node-text")),y=g.find(h=>x(h,"collapse-text"));if(s&&(["dark","light"].includes(a)?(S.attr("fill",he.value),y&&y.attr("fill",he.value)):a==="collapse"&&y&&y.attr({text:s?"+":"-"})),a==="hover"){const h=f.hasState("focus");l.attr("stroke",n(s,h)),l.attr("fill",r(s,h))}else a==="focus"&&(l.attr("stroke",n(!1,s)),l.attr("fill",r(!1,s)))},getAnchorPoints(){return[[0,.5],[1,.5]]}}}}const ao=ae({__name:"JsonCanvas",props:Me({isExpand:{type:Boolean,default:!1},isExpandEditor:{type:Boolean,default:!0}},{ratio:{},ratioModifiers:{}}),emits:Me(["nodeClick"],["update:ratio"]),setup(e,{expose:t,emit:o}){const r=e,n=o,{json:i}=G(lt()),{isDark:d,themeColor:a,keyword:s,focusCount:f,autoRender:g,fields:x}=G(Q()),l=k(),S=gt(e,"ratio"),{activeConfig:y}=G(to()),h=k(null),{width:E,height:U}=vt(h);let P=null;function ie(){ce(i.value,!0),De(l.value),s.value&&(clearTimeout(P),P=setTimeout(()=>{v(s.value)},500))}R([i,x],()=>{g.value&&ie()},{deep:!0}),R(d,()=>{De(l.value)}),R(a,()=>{window.location.reload()});function ee(u){return["mindmap","compactBox"].includes(u.type)&&(u={...u,...{getVGap:()=>u.vgap,getHGap:()=>u.hgap}}),u}R(y,u=>{if(!l.value)return;const b=ee(u);l.value.updateLayout(b),l.value.fitView(20)},{deep:!0});const Z=k({});function be(u){Z.value=u.getModel(),n("nodeClick",Z.value)}const re=new X.ToolBar({getContent:()=>{const u=document.createElement("div");return u.style.display="none",u}});function ke(){var u;l.value=new X.TreeGraph({container:h.value,width:E.value,height:U.value,fitView:!0,animate:!0,defaultNode:{type:"flow-rect"},defaultEdge:{type:"cubic-horizontal",style:{stroke:"#9ca3af88"}},edgeStateStyles:{hover:{stroke:"#9ca3af88",lineWidth:2}},modes:{default:[{type:"zoom-canvas",enableOptimize:!0},{type:"drag-canvas"}]},plugins:[re],layout:ee(y.value)}),so(a.value),oo(l.value,be),(u=l.value)==null||u.on("wheel",()=>{var b;return S.value=(b=l.value)==null?void 0:b.getZoom()})}function ce(u,b=!0){var z,J,D,M;if(!u)return;u=Bt(u,x.value);const I=Object.keys(u).length===0,T=Object.assign({},u,{id:I?"{ }":"root",type:"root-icon"});b?(z=l.value)==null||z.changeData(T):(J=l.value)==null||J.read(T),I?(D=l.value)==null||D.fitView(200):(M=l.value)==null||M.zoom(.85)}Be([E,U],([u,b])=>{l.value&&l.value.changeSize(u,b)},{debounce:600}),ht(()=>{ke(),ce(i.value,!1),v(s.value)}),R(()=>r.isExpand,u=>{var I,F,T,z;const b=(I=l.value)==null?void 0:I.save();b.collapsed=!u,(F=l.value)==null||F.layout(),u?(T=l.value)==null||T.fitView(20):(z=l.value)==null||z.moveTo(E.value/2,U.value/2)});function Se(){var u;(u=l.value)==null||u.downloadFullImage("json-viewer")}function _e(u){if(!u)return;u.findAllByState("node","focus").forEach(I=>{u.setItemState(I,"focus",!1)})}function v(u){var I,F,T,z,J,D,M;_e(l.value);const b=u.trim();if(!b)f.value=0,(I=l.value)==null||I.fitView(20);else if("root".includes(b)){const q=(F=l.value)==null?void 0:F.findById("root");q&&((T=l.value)==null||T.setItemState(q,"focus",!0),f.value=1),(z=l.value)==null||z.focusItem("root",!0,{easing:"easeCubic",duration:400})}else{const q=K=>{let $=!1;const te=K.get("model").keyName||"",ue=K.get("model").entries;if(te!=null&&te.includes(b))return $=!0,$;for(const de in ue){const p=`${de}`,m=`${ue[de]}`;if(p!=null&&p.includes(b)||m!=null&&m.includes(b)){$=!0;break}}return $},A=((J=l.value)==null?void 0:J.findAll("node",q))||[];f.value=A.length,A.length>0?((D=l.value)==null||D.focusItem(A[0],!0,{easing:"easeCubic",duration:400}),A.forEach(K=>{var $;($=l.value)==null||$.setItemState(K,"focus",!0)})):(M=l.value)==null||M.fitView(20)}}return Be(s,v,{debounce:300}),yt(()=>{var u,b;(u=l.value)==null||u.clear(),(b=l.value)==null||b.destroy()}),t({saveImage:Se,toolbar:re,graph:l,render:ie}),(u,b)=>(L(),H("div",{ref_key:"jsonCanvas",ref:h,class:"wh-full"},null,512))}}),io={class:"flex-y-center gap-2"},ro={class:"h-30px flex-y-center flex-nowrap gap-1 rounded bg-white px1 lt-md:my-2 dark:bg-white/20"},co=C("span",{class:"iconfont icon-search text-gray"},null,-1),uo=["placeholder"],fo={class:"text-nowrap text-primary"},po=ae({__name:"SearchInput",setup(e){const{keyword:t,focusCount:o}=G(Q());return(r,n)=>(L(),H("div",io,[C("div",ro,[co,Oe(C("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>j(t)?t.value=i:null),class:"flex-1 bg-transparent outline-none",text:"gray-500 dark:gray-300",type:"text",placeholder:r.$t("inputPlaceholder")},null,8,uo),[[xt,c(t),void 0,{trim:!0}]]),w(Qe,null,{default:O(()=>[Oe(C("span",{class:"iconfont icon-clear cursor-pointer text-gray/60 hover:text-gray",onClick:n[1]||(n[1]=i=>t.value="")},null,512),[[Xe,c(t)]])]),_:1})]),C("span",fo,et(c(o)),1)]))}}),mo={class:"grid grid-cols-5 justify-items-center gap-1"},go=["title","onClick"],vo=ae({__name:"ColorPicker",setup(e){const{colorName:t}=G(Q());return(o,r)=>{const n=kt;return L(),Y(n,{trigger:"click"},{reference:O(()=>[bt(o.$slots,"icon")]),default:O(()=>[C("div",mo,[(L(!0),H(Ie,null,$e(c(ze),(i,d)=>(L(),H("div",{key:d,class:B(["wh-5 flex-center cursor-pointer rounded-sm",{"bg-gray/20":d===c(t)}]),title:d,onClick:a=>t.value=d},[C("span",{class:"wh-3 rounded-full",style:Pe({backgroundColor:i})},null,4)],10,go))),128))])]),_:3})}}}),ho=ae({__name:"VueCodeMirror",props:{value:{type:String,required:!0},style:{type:Object,default:()=>({height:"100%"})}},emits:["updateCode"],setup(e,{emit:t}){const o=e,r=t,n=k(),i=le(),d=W(()=>i.value?[Ue(),St]:[Ue()]);return R(()=>o.value,a=>n.value=a,{immediate:!0}),R(n,a=>r("updateCode",a)),(a,s)=>(L(),Y(c(_t),{modelValue:c(n),"onUpdate:modelValue":s[0]||(s[0]=f=>j(n)?n.value=f:null),placeholder:a.$t("editorPlaceholder"),style:Pe(e.style),"indent-with-tab":!0,"tab-size":2,extensions:c(d)},null,8,["modelValue","placeholder","style","extensions"]))}}),at=(e,t)=>{const o=e.__vccOpts||e;for(const[r,n]of t)o[r]=n;return o},yo=at(ho,[["__scopeId","data-v-c8ec8b38"]]),xo=e=>(Nt("data-v-4d959c4a"),e=e(),Ot(),e),bo={border:"b gray/20",class:"h-10 flex items-center bg-gray/10 px-2 space-x-3"},ko=["onClick"],So={"h-full":""},_o={border:"b gray/20",class:"bg-gray/10 px-2 md:h-10 md:flex-between-center"},Co={class:"flex-y-center space-x-3"},wo=["onClick"],Eo=xo(()=>C("span",{class:"iconfont icon-theme"},null,-1)),No={op60:""},Oo=ae({__name:"App",setup(e){const t=ge(()=>ve(()=>import("../chunks/ExportImage-CnEOyrN8.js"),__vite__mapDeps([0,1,2,3]))),o=ge(()=>ve(()=>import("../chunks/FieldsCustom-DEBCV7HJ.js"),__vite__mapDeps([4,1,2,3]))),r=ge(()=>ve(()=>import("../chunks/NodeDialog-Cx3sXB1G.js"),__vite__mapDeps([5,1,2,3]))),n=ge(()=>ve(()=>import("../chunks/LayoutCustom-C2k07AI1.js"),__vite__mapDeps([6,1,2,3,7]))),{originCode:i,formatCode:d,json:a,jsonValid:s}=G(lt()),{isDark:f,paneSize:g,autoRender:x,isExpandEditor:l}=G(Q()),{toggleEditor:S,toggleExecuteMode:y,toggleLanguage:h}=Q(),E=k(!1);function U(){E.value=!E.value}const P=k(1),ie=W(()=>`${(P.value*100).toFixed(2)}%`),ee=st(),[Z,be]=ye(!0),re=W(()=>ee.value?{transform:`rotate(${l.value?"90deg":"270deg"})`}:{transform:`rotate(${l.value?"0deg":"180deg"})`});function ke(p){i.value=p}const ce=Ye(ke,500);function Se(){const p="json-viewer.json",m=nt(a.value)?JSON.stringify(a.value,void 0,2):a.value,N=new Blob([m],{type:"text/plain"}),V=document.createElement("a");V.setAttribute("style","display: none"),V.href=URL.createObjectURL(N),V.download=p,V.click()}function _e(){const p=document.createElement("input");p.setAttribute("type","file"),p.setAttribute("accept",".json"),p.click(),p.onchange=()=>{var V;const m=(V=p.files)==null?void 0:V[0];if(!m)return;const N=new FileReader;N.readAsText(m),N.onload=()=>{const oe=N.result;i.value=oe}}}const v=k(),u=k(!1);function b(){v.value.render()}function I(){u.value=!0}function F(p){var fe,pe;u.value=!1;const{name:m,type:N,padding:V,backgroundColor:oe}=p;(pe=(fe=v==null?void 0:v.value)==null?void 0:fe.graph)==null||pe.downloadFullImage(m,N,{padding:V,backgroundColor:oe})}function T(){var p,m;v!=null&&v.value&&(((p=v==null?void 0:v.value)==null?void 0:p.toolbar).zoomOut(),P.value=(m=v==null?void 0:v.value)==null?void 0:m.graph.getZoom())}function z(){var p,m;v!=null&&v.value&&(((p=v==null?void 0:v.value)==null?void 0:p.toolbar).zoomIn(),P.value=(m=v==null?void 0:v.value)==null?void 0:m.graph.getZoom())}function J(){var p,m;v!=null&&v.value&&(((p=v==null?void 0:v.value)==null?void 0:p.toolbar).autoZoom(),P.value=(m=v==null?void 0:v.value)==null?void 0:m.graph.getZoom())}const D=k(!1),M=k({});function q(p){M.value=p,D.value=!0}const A=k(!1);function K(){A.value=!A.value,A.value?document.documentElement.requestFullscreen():document.exitFullscreen()}const $=k(!1);function te(){$.value=!0}const ue=[{icon:"icon-node-layout",content:"layoutConfig",onClick:U},{icon:"icon-zidingyi",content:"parseField",onClick:te},{icon:"icon-import-json",content:"import",onClick:_e},{icon:"icon-export-json",content:"export",onClick:Se},{icon:"icon-clear-json",content:"clear",onClick:()=>{i.value=""}}],de=[{icon:"icon-jia",content:"zoomIn",onClick:T},{icon:"icon-jian",content:"zoomOut",onClick:z},{icon:"icon-center-focus",content:"center",onClick:J},{icon:"icon-save-image",content:"saveImage",onClick:I},{icon:"icon-language",content:"language",onClick:h}];return(p,m)=>{const N=wt,V=Et,oe=yo,fe=vo,pe=po,rt=ao;return L(),H("div",null,[w(c(Ct),{class:"default-theme",style:{height:"100vh"},horizontal:c(ee)},{default:O(()=>[w(c(Je),{"max-size":"50",size:c(g)[0]},{default:O(()=>[C("div",bo,[(L(),H(Ie,null,$e(ue,(_,Ce)=>w(N,{key:Ce,content:p.$t(_.content)},{default:O(()=>[C("span",{class:B(["iconfont",_.icon]),onClick:_.onClick},null,10,ko)]),_:2},1032,["content"])),64)),w(N,{content:p.$t(c(x)?"autoRender":"manualRender")},{default:O(()=>[C("span",{class:B(["iconfont icon-auto",c(x)?"!text-green-500":""]),onClick:m[0]||(m[0]=_=>c(y)())},null,2)]),_:1},8,["content"]),w(N,{content:"渲染"},{default:O(()=>[w(Qe,{name:"slide"},{default:O(()=>[Oe(w(V,{class:B(["iconfont icon-execute",[!c(x)&&c(s)?"!text-green-500":"",c(s)?"":"!text-gray-300"]]),link:"",disabled:!c(s),onClick:b},null,8,["class","disabled"]),[[Xe,!c(x)]])]),_:1})]),_:1})]),w(oe,{value:c(d),style:{height:"calc(100% - 40px);"},onUpdateCode:c(ce)},null,8,["value","onUpdateCode"])]),_:1},8,["size"]),w(c(Je),{size:c(g)[1]},{default:O(()=>[C("div",So,[C("div",_o,[C("div",Co,[w(N,{content:`${c(l)?p.$t("collapse"):p.$t("expand")}${p.$t("editor")}`},{default:O(()=>[C("span",{class:"iconfont icon-editor-expand",style:Pe(c(re)),onClick:m[1]||(m[1]=_=>c(S)())},null,4)]),_:1},8,["content"]),w(N,{content:`${c(Z)?p.$t("collapse"):p.$t("expand")}${p.$t("nodes")}`},{default:O(()=>[C("span",{class:B(["iconfont",c(Z)?"icon-node-collapse":"icon-node-expand"]),onClick:m[2]||(m[2]=_=>c(be)())},null,2)]),_:1},8,["content"]),(L(),H(Ie,null,$e(de,(_,Ce)=>w(N,{key:Ce,content:p.$t(_.content)},{default:O(()=>[C("span",{class:B(["iconfont",_.icon]),onClick:_.onClick},null,10,wo)]),_:2},1032,["content"])),64)),w(N,{content:`${c(A)?p.$t("exit"):p.$t("enter")}${p.$t("fullscreen")}`},{default:O(()=>[C("span",{class:B(["iconfont",c(A)?"icon-exit-fullscreen":"icon-enter-fullscreen"]),onClick:K},null,2)]),_:1},8,["content"]),C("span",{class:B(["iconfont",c(f)?"icon-night":"icon-day"]),onClick:m[3]||(m[3]=(..._)=>c(Ze)&&c(Ze)(..._))},null,2),w(fe,null,{icon:O(()=>[Eo]),_:1}),C("div",No,et(c(ie)),1)]),w(pe)]),w(rt,{ref_key:"jsonCanvasRef",ref:v,ratio:c(P),"onUpdate:ratio":m[4]||(m[4]=_=>j(P)?P.value=_:null),"is-expand":c(Z),"is-expand-editor":c(l),onNodeClick:q},null,8,["ratio","is-expand","is-expand-editor"])])]),_:1},8,["size"])]),_:1},8,["horizontal"]),c(u)?(L(),Y(c(t),{key:0,modelValue:c(u),"onUpdate:modelValue":m[5]||(m[5]=_=>j(u)?u.value=_:null),onConfirm:F},null,8,["modelValue"])):me("",!0),c($)?(L(),Y(c(o),{key:1,modelValue:c($),"onUpdate:modelValue":m[6]||(m[6]=_=>j($)?$.value=_:null)},null,8,["modelValue"])):me("",!0),c(D)?(L(),Y(c(r),{key:2,modelValue:c(D),"onUpdate:modelValue":m[7]||(m[7]=_=>j(D)?D.value=_:null),"node-detail":c(M)},null,8,["modelValue","node-detail"])):me("",!0),c(E)?(L(),Y(c(n),{key:3,modelValue:c(E),"onUpdate:modelValue":m[8]||(m[8]=_=>j(E)?E.value=_:null)},null,8,["modelValue"])):me("",!0)])}}}),Io=at(Oo,[["__scopeId","data-v-4d959c4a"]]),$o={language:"简体中文",zoomIn:"放大",zoomOut:"缩小",exit:"退出",enter:"进入",fullscreen:"全屏",expand:"展开",collapse:"收起",editor:"编辑器",saveImage:"存为图片",center:"居中",nodes:"节点",autoRender:"自动渲染",manualRender:"手动渲染",execute:"渲染",import:"导入",export:"导出",clear:"清空JSON",parseField:"解析字段",layoutConfig:"布局配置",inputPlaceholder:"请输入内容",editorPlaceholder:"请输入JSON",imageName:"图片名称",saveFormat:"导出格式",saveImagePlaceholder:"请输入导出图片名",nodeDetail:"节点详情",indented:"缩进树",compactBox:"紧凑树",mindmap:"脑图树",dendrogram:"生态树",direction:"布局方向",nodeWrap:"节点换行",indentDistance:"缩进距离",nodeWrapInfo:"开启后子节点从父节点下一行开始依次渲染",levelSpacing:"层级间距",nodeSpacing:"节点间距",hgap:"水平间距",vgap:"垂直间距",assignField:"指定额外解析字段",fieldPlaceholder:"请输入字段名,可按回车确认",infoName:"额外解析字段：",info:"指定后，遇到此字段会将对应的值时，会将其解析为JSON并继续递归处理，并转化为子树。"},Lo={language:"English",zoomIn:"ZoomIn",zoomOut:"ZoomOut",exit:"Exit ",enter:"Enter ",fullscreen:"Fullscreen",expand:"Expand ",collapse:"Collapse ",editor:"Editor",saveImage:"Save as Image",center:"Center",nodes:"Nodes",autoRender:"Auto Render",manualRender:"Manual Render",execute:"Render",import:"Import",export:"Export",clear:"Clear JSON",parseField:"Parse field",layoutConfig:"Layout Config",inputPlaceholder:"Please enter content",editorPlaceholder:"Please enter JSON",imageName:"Name",saveImagePlaceholder:"Please enter the exported image name",saveFormat:"Format",nodeDetail:"Node Detail",indented:"Indented",compactBox:"CompactBox",mindmap:"MindMap",dendrogram:"Dendrogram",direction:"Direction",nodeWrap:"NodeWrap",indentDistance:"Indent",nodeWrapInfo:"After opening, the child nodes start rendering from the next line of the parent node in turn",levelSpacing:"LevelGap",nodeSpacing:"NodeGap",hgap:"HGap",vgap:"VGap",assignField:"Assign Field",fieldPlaceholder:"Please enter the field name and press Enter to confirm",infoName:"Extra parse field:",info:"After specifying, when encountering this field, the corresponding value will be parsed as JSON and continue to be processed recursively, and converted into a subtree."};var Ke;const Do=((Ke=JSON.parse(localStorage.getItem("global")))==null?void 0:Ke.language)||se.CN,Vo=It({allowComposition:!0,legacy:!1,locale:Do,messages:{zh:$o,en:Lo}});function Po(e){e.use(Vo)}const it=$t();it.use(Lt);const Ae=Dt(Io);Ae.use(it);Po(Ae);Ae.mount("#app");export{yo as _,to as a,at as b,st as c,Q as u};
